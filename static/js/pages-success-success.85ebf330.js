(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-success-success"],{"426e":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var a={uIcon:n("d249").default},o=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",[this.show?e("div",{staticClass:"app-loading"},[e("div",{staticClass:"app-loading__logo"}),e("div",[e("span",{staticClass:"dot dot-spin"},[e("i"),e("i"),e("i"),e("i")])]),e("div",{staticClass:"app-loading__title"},[this._v("正在加载数据，请耐心等待")])]):e("div",{staticClass:"animate__animated  animate__backInDown center",staticStyle:{"text-align":"center"}},[e("u-icon",{attrs:{color:"#72c240",size:"128",name:"checkmark-circle"}}),e("v-uni-text",{staticStyle:{color:"#515151","font-size":"18px"}},[this._v("身份核验成功")])],1)])},i=[]},"4c3a":function(t,e,n){var a=n("90cc");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=n("967d").default;o("569f7ed0",a,!0,{sourceMap:!1,shadowMode:!1})},"90cc":function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.dot[data-v-7137ffd3]{-webkit-animation:antRotate-data-v-7137ffd3 1.2s infinite linear;animation:antRotate-data-v-7137ffd3 1.2s infinite linear;-webkit-transform:rotate(45deg);transform:rotate(45deg);position:relative;display:inline-block;font-size:32px;width:32px;height:32px;box-sizing:border-box}.dot i[data-v-7137ffd3]{width:14px;height:14px;position:absolute;display:block;background-color:#de8b53;border-radius:100%;-webkit-transform:scale(.75);transform:scale(.75);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;opacity:.3;-webkit-animation:antSpinMove-data-v-7137ffd3 1s infinite linear alternate;animation:antSpinMove-data-v-7137ffd3 1s infinite linear alternate}.dot i[data-v-7137ffd3]:nth-child(1){top:0;left:0}.dot i[data-v-7137ffd3]:nth-child(2){top:0;right:0;-webkit-animation-delay:.4s;animation-delay:.4s}.dot i[data-v-7137ffd3]:nth-child(3){right:0;bottom:0;-webkit-animation-delay:.8s;animation-delay:.8s}.dot i[data-v-7137ffd3]:nth-child(4){bottom:0;left:0;-webkit-animation-delay:1.2s;animation-delay:1.2s}@keyframes antRotate-data-v-7137ffd3{to{-webkit-transform:rotate(405deg);transform:rotate(405deg)}}@-webkit-keyframes antRotate-data-v-7137ffd3{to{-webkit-transform:rotate(405deg);transform:rotate(405deg)}}@keyframes antSpinMove-data-v-7137ffd3{to{opacity:1}}@-webkit-keyframes antSpinMove-data-v-7137ffd3{to{opacity:1}}.app-loading[data-v-7137ffd3]{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;justify-content:center;align-items:center;flex-direction:column\n  /* background: #fff; */}.app-loading__logo[data-v-7137ffd3]{margin-bottom:30px}.app-loading__logo img[data-v-7137ffd3]{width:90px;vertical-align:bottom}.app-loading__title[data-v-7137ffd3]{font-size:14px;color:#515151;margin-top:30px}@-webkit-keyframes loader-data-v-7137ffd3{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loader-data-v-7137ffd3{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.center[data-v-7137ffd3]{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;margin-top:150px;align-items:center;flex-direction:column}',""]),t.exports=e},9596:function(t,e,n){"use strict";n.r(e);var a=n("ed70"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=o.a},"962b":function(t,e,n){"use strict";n.r(e);var a=n("426e"),o=n("9596");for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("fb7c");var r=n("828b"),s=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"7137ffd3",null,!1,a["a"],void 0);e["default"]=s.exports},ed70:function(t,e,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("7a76"),n("c9b5"),n("bf0f"),n("d4b5");var o=a(n("2634")),i=a(n("5de6")),r=a(n("fcf3")),s=a(n("2fdc")),d={data:function(){return{pageOptions:null,retryCount:0,maxRetries:3}},onLoad:function(t){try{console.log("收到的原始参数:",t);var e={uid:t.uid||"",token:t.token||"",type:t.type||2,satoken:t.satoken||""};this.retryCount=0,this.pageOptions=e,this.succ(e)}catch(n){console.error("参数处理错误:",n),uni.showToast({title:"参数错误",icon:"none",duration:2e3})}},onShow:function(){this.retryCount=0,this.succ(this.pageOptions)},methods:{succ:function(t){var e=this;return(0,s.default)((0,o.default)().mark((function n(){var a,s,d,c,f;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,t&&"object"===(0,r.default)(t)){n.next=3;break}throw new Error("参数格式错误");case 3:return console.log("请求参数:",t,"当前重试次数:",e.retryCount),n.next=6,uni.request({url:"https://api-driver.sph56.cn/api/auth/faceOcr/user/faceSuccess",method:"POST",header:{"content-type":"application/json",satoken:t.satoken||"47a0eedc-0bfb-40d4-b2a8-53be86be227a"},data:{uid:t.uid||"1874029560005812225",token:t.token||"nertaKt7Jgo509OiwIxoDV0Y",type:t.type||2}});case 6:if(a=n.sent,s=(0,i.default)(a,2),d=s[0],c=s[1],!d){n.next=12;break}throw new Error("网络请求失败");case 12:if(f=c.data,0,200!==f.code){n.next=21;break}return e.show=!e.show,1,n.next=19,e.handleSuccess(1);case 19:n.next=23;break;case 21:e.retryCount++,e.retryCount<e.maxRetries?(uni.showToast({title:"认证失败，第".concat(e.retryCount,"次重试"),icon:"none",duration:1500}),setTimeout((function(){e.succ(t)}),1500)):uni.showToast({title:"认证失败次数过多",icon:"none",duration:2e3});case 23:n.next=30;break;case 25:n.prev=25,n.t0=n["catch"](0),console.error("认证失败:",n.t0),e.retryCount++,e.retryCount<e.maxRetries?setTimeout((function(){e.succ(t)}),1500):(uni.showToast({title:"认证失败次数过多",icon:"none",duration:2e3}),setTimeout((function(){uni.navigateTo({url:"/pages/failed/failed"})}),2e3));case 30:case"end":return n.stop()}}),n,null,[[0,25]])})))()},handleSuccess:function(t){return(0,s.default)((0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout((0,s.default)((0,o.default)().mark((function n(){var a;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,webUni.postMessage({data:{handlerIdent:t}}),webUni.navigateBack({delta:1}),n.next=5,window.flutter_inappwebview.callHandler("handlerIdent",t);case 5:a=n.sent,console.log("Flutter回调结果:",JSON.stringify(a)),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),console.error("消息处理失败:",n.t0);case 12:e();case 13:case"end":return n.stop()}}),n,null,[[0,9]])}))),1500)}));case 2:case"end":return e.stop()}}),e)})))()}}};e.default=d},fb7c:function(t,e,n){"use strict";var a=n("4c3a"),o=n.n(a);o.a}}]);