{"version":3,"sources":["uni-app:///main.js","webpack:////Users/masa/Desktop/uniapp/pages/success/success.vue?899f","webpack:////Users/masa/Desktop/uniapp/pages/success/success.vue?e2f5","webpack:////Users/masa/Desktop/uniapp/pages/success/success.vue?6894","webpack:////Users/masa/Desktop/uniapp/pages/success/success.vue?e6ba","uni-app:///pages/success/success.vue","webpack:////Users/masa/Desktop/uniapp/pages/success/success.vue?8fb9","webpack:////Users/masa/Desktop/uniapp/pages/success/success.vue?ebaf"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","show","onLoad","methods","succ","console","uni","url","method","uid","token","type","satoken","error","res","response","flag","title","icon","duration","setTimeout","webUni","handlerIdent","delta","window","result","resolve"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACc;;;AAGpE;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8NAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAszB,CAAgB,qyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCkB10B;EACAC;IACA;MACAC;IAEA;EACA;EACAC;IACA;IACA;MACA;IACA;EACA;EACAC;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEAC;gBAAA;gBAAA,OAGAC;kBACAC;kBACAC;kBAEAR;oBACAS;oBACAC;oBACAC;oBACAC;kBACA;gBACA;cAAA;gBAAA;gBAAA;gBAVAC;gBAAAC;gBAAA;cAAA;gBAoBA;gBACAC;gBACAC;gBAEA;kBACA;kBACAA;gBACA;kBACAV;oBACAW;oBACAC;oBACAC;kBACA;gBACA;;gBAEA;gBAAA;gBAAA,OACA;kBACAC;oBAAA;oBAAA;sBAAA;wBAAA;0BAAA;4BAAA;4BAEA;4BACAC;8BACArB;gCAAAsB;8BAAA;4BACA;;4BAEA;4BACAD;8BAAAE;4BAAA;;4BAEA;4BAAA;4BAAA,OACAC;0BAAA;4BAAAC;4BACApB;4BAAA;4BAAA;0BAAA;4BAAA;4BAAA;4BAEAA;0BAAA;4BAEAqB;0BAAA;0BAAA;4BAAA;wBAAA;sBAAA;oBAAA;kBAAA,CACA;gBACA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGA;gBACApB;gBACAD;gBACAC;kBACAW;kBACAC;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC1GA;AAAA;AAAA;AAAA;AAAygD,CAAgB,o6CAAG,EAAC,C;;;;;;;;;;;ACA7hD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/success/success.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/success/success.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./success.vue?vue&type=template&id=d77f41e4&\"\nvar renderjs\nimport script from \"./success.vue?vue&type=script&lang=js&\"\nexport * from \"./success.vue?vue&type=script&lang=js&\"\nimport style0 from \"./success.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/success/success.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./success.vue?vue&type=template&id=d77f41e4&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./success.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./success.vue?vue&type=script&lang=js&\"","<template>\n    <view>\n        <!-- <u-button @click=\"succ\">月落</u-button> -->\n        <div class=\"app-loading\" v-if=\"show\">\n            <div class=\"app-loading__logo\"></div>\n            <div><span class=\"dot dot-spin\"><i></i><i></i><i></i><i></i></span></div>\n            <div class=\"app-loading__title\">正在加载数据，请耐心等待</div>\n        </div>\n        <div v-else class=\"animate__animated  animate__backInDown center\" style=\"text-align: center;\">\n            <u-icon color=\"#72c240\" size=\"128\" name=\"checkmark-circle\"></u-icon>\n            <!-- <u-icon color=\"#72c240\" size=\"256\" name=\"checkmark-circle\"></u-icon> -->\n            <text style=\"color: #515151;font-size: 18px;\">身份核验成功</text>\n        </div>\n        \n    </view>\n</template>\n\n<script>\n    export default {\n        data() {\n            return {\n                show:true,\n                \n            };\n        },\n        onLoad(options) {\n            const result = options || ''\n            if(result){\n                this.succ(result)\n            }\n        },\n        methods:{\n            async succ(result) {\n                try {\n                    console.log('请求参数:', result)\n                  \n\n                    const [error, res] = await uni.request({\n                        url: 'https://api-driver.sph56.cn/api/auth/faceOcr/user/faceSuccess',\n                        method: 'POST',\n                       \n                        data: {\n                            uid: result.uid ?? '1874029560005812225',\n                            token: result.token ?? 'nertaKt7Jgo509OiwIxoDV0Y',\n                            type: result.type ?? 2,\n                            satoken: result.satoken ?? '47a0eedc-0bfb-40d4-b2a8-53be86be227a'\n                        }\n                    })\n                      return\n                    // 隐藏加载提示\n                    uni.hideLoading()\n\n                    // 处理请求错误\n                    if (error) {\n                        throw new Error('网络请求失败')\n                    }\n\n                    // 处理业务响应\n                    const response = res.data\n                    let flag = 0\n\n                    if (response.code === 200) {\n                        this.show = !this.show\n                        flag = 1\n                    } else {\n                        uni.showToast({\n                            title: response.msg || '验证失败',\n                            icon: 'none',\n                            duration: 2000\n                        })\n                    }\n\n                    // 延迟处理导航和消息\n                    await new Promise(resolve => {\n                        setTimeout(async () => {\n                            try {\n                                // 发送消息\n                                webUni.postMessage({\n                                    data: { handlerIdent: flag }\n                                })\n\n                                // 页面导航\n                                webUni.navigateBack({ delta: 1 })\n\n                                // Flutter回调\n                                const result = await window.flutter_inappwebview.callHandler('handlerIdent', flag)\n                                console.log('Flutter回调结果:', JSON.stringify(result))\n                            } catch (e) {\n                                console.error('消息处理失败:', e)\n                            }\n                            resolve()\n                        }, 1500)\n                    })\n\n                } catch (e) {\n                    // 错误处理\n                    uni.hideLoading()\n                    console.error('认证失败:', e)\n                    uni.showToast({\n                        title: '认证失败，请重试',\n                        icon: 'none',\n                        duration: 2000\n                    })\n                }\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n.dot{\n      animation:antRotate 1.2s infinite linear;\n      transform:rotate(45deg);\n      position:relative;\n      display:inline-block;\n      font-size:32px;\n      width:32px;\n      height:32px;\n      box-sizing:border-box\n    }\n    .dot i{\n      width:14px;\n      height:14px;\n      position:absolute;\n      display:block;\n      background-color:#de8b53;\n      border-radius:100%;\n      transform:scale(.75);\n      transform-origin:50% 50%;\n      opacity:.3;\n      animation:antSpinMove 1s infinite linear alternate\n    }\n    .dot i:nth-child(1){\n      top:0;left:0\n    }\n    .dot i:nth-child(2){\n      top:0;right:0;\n      -webkit-animation-delay:.4s;\n      animation-delay:.4s\n    }\n    .dot i:nth-child(3){\n      right:0;bottom:0;\n      -webkit-animation-delay:.8s;\n      animation-delay:.8s\n    }\n    .dot i:nth-child(4){\n      bottom:0;left:0;\n      -webkit-animation-delay:1.2s;\n      animation-delay:1.2s\n    }\n    @keyframes antRotate{\n      to{-webkit-transform:rotate(405deg);transform:rotate(405deg)}\n    }\n    @-webkit-keyframes antRotate{\n      to{-webkit-transform:rotate(405deg);transform:rotate(405deg)}\n    }\n    @keyframes antSpinMove{\n      to{opacity:1}}@-webkit-keyframes antSpinMove{to{opacity:1}\n    }\n    .app-loading {\n      position: absolute;top:0px;\n      left:0px;right:0px;\n      bottom:0px;display: flex;\n      justify-content: center;\n      align-items: center;\n      flex-direction: column;\n      /* background: #fff; */\n    }\n    .app-loading__logo {margin-bottom: 30px;}\n    .app-loading__logo img {width: 90px;vertical-align: bottom;}\n    .app-loading__title { font-size: 14px;\n    color: #515151;margin-top: 30px;}\n    @keyframes loader {\n      0% {\n        transform: rotate(0deg);\n      }\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n    .center{\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        right: 0px;\n        bottom: 0px;\n        display: flex;\n        // justify-content: center;\n        margin-top: 150px;\n        align-items: center;\n        flex-direction: column;\n    }\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./success.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./success.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1735800218540\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}